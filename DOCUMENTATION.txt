# CALLIX AI PROJECT DOCUMENTATION

## Project Overview
Callix is an advanced AI-powered calling and scheduling platform. It allows users to deploy AI agents for various businesses (Healthcare, Food, IT, E-commerce) that can handle natural language conversations in multiple Indian languages (English, Hindi, Telugu, etc.) to book appointments, take orders, and collect feedback.

## Technology Stack
- **Frontend**: React.js with Vite, Tailwind CSS, Framer Motion (animations), Lucide (icons).
- **Backend**: Node.js with Express.js.
- **Database**: MongoDB (via Mongoose) with LocalStorage fallback for offline/isolated usage.
- **AI Engine**: Groq (Llama-3.3-70b-versatile) for chat, Deepgram (Nova-3) for Speech-to-Text (STT), and custom TTS service.
- **Speech**: Advanced STT pipeline with silence detection and echo protection.

## Core Modules

### 1. Dashboard (`src/components/UserDashboard.jsx`)
- Displays user-specific history.
- Categorized sections: Appointments, Table Bookings, My Orders, Feedback.
- Features: Deduplication logic, Delete functionality, Real-time status updates.

### 2. Voice Interface (`src/components/VoiceOverlay.jsx`)
- The main interaction hub for AI calls.
- Handles ringing, language selection, and real-time conversation.
- Integrates with STT and TTS services.

### 3. Database Layer (`src/utils/database.js`)
- Unified interface for all data operations.
- Automatically switches between Backend API (MongoDB) and LocalStorage.
- Used by both the UI and the AI tools.

### 4. AI Integration (`src/utils/groq.js`)
- Handles prompts and conversation history.
- **Function Calling**: Detects intents like `BOOK_APPOINTMENT` and executes them using predefined tools.
- Cleaners: Strips internal system markers from text before displaying to users.

## Data Models (Backend)
- **Company**: Business profile with NLP context and industry-specific data.
- **Appointment**: Individual schedules (Doctor consultations, Interviews, Demos).
- **Order**: E-commerce transactions.
- **Feedback**: User-submitted ratings and comments.
- **ConversationLog**: Audit trail of AI-User chats.

## Key Workflows
1. **Onboarding**: User creates a company profile and provides business context (NLP context).
2. **AI Action**: User speaks to the AI. AI detects intent -> Calls database tool -> Confirms to user.
3. **Synchronization**: Records are saved to MongoDB when online, otherwise cached in LocalStorage. Dashboard reconciles both.

## Current State & Recent Fixes
- Added Delete functionality to all records in the dashboard and database.
- Implemented robust deduplication to prevent redundant saves during AI tool calling.
- Reorganized dashboard into logical sub-sections.
- Enhanced Indian language support (Telugu/Hindi native script).
